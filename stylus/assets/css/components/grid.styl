/*
 * Grid Component
 * Adapted from: 
 * https://github.com/philipwalton/solved-by-flexbox/blob/master/_sass/components/_grid.scss
 */

.grid
	display flex
	width 100%

/*
 * The @supports CSS rule is not currently working in Stylus, so rely on modernizr class for fallback for now.
 * 
 * Reasons for fallback:
 * - FF doesn't support all of flexbox: https://bugzilla.mozilla.org/show_bug.cgi?id=702508
 * - IE<11 is bad too.
 * 
 * We will use this once supported in Stylus:
 * - @supports not (flex-wrap: wrap) and not (-webkit-flex-wrap: wrap) 
 */
.no-flexbox
	.grid
		display block

	.grid-cell
		@extends .display-ib
		margin 0 0 0 .3ch


.grid-cell
	flex 1

/* Wrapping */
.grid--wrapping 
	flex-wrap wrap

.grid--wrapping > .grid-cell
	flex 1 15em


/* Gutters */
.grid--gutters
	margin-left: -1em;

.grid--gutters > .grid-cell 
	padding-left: 1em;


/* Alignment per row */
.grid--top 
	align-items: flex-start;

.grid--bottom 
	align-items: flex-end;

.grid--center 
	align-items: center;


/* Alignment per cell */
.grid-cell--top 
	align-self: flex-start;

.grid-cell--bottom 
	align-self: flex-end;

.grid-cell--center 
	align-self: center;


/* Base classes for all media */
.grid--fit > .grid-cell 
	flex: 1;

.grid--full > .grid-cell 
	flex: 0 0 100%;

.grid--1of2 > .grid-cell 
	flex: 0 0 50%

.grid--1of3 > .grid-cell 
	flex: 0 0 33.3333%

.grid--1of4 > .grid-cell 
	flex: 0 0 25%


/* Small to medium screens */
@media $mq_small
	.small-grid--fit > .grid-cell 
		flex: 1;

	.small-grid--full > .grid-cell 
		flex: 0 0 100%;

	.small-grid--1of2 > .grid-cell 
		flex: 0 0 50%

	.small-grid--1of3 > .grid-cell 
		flex: 0 0 33.3333%

	.small-grid--1of4 > .grid-cell 
		flex: 0 0 25%


/* Large screens */
@media $mq_medium
	.large-grid--fit > .grid-cell 
		flex: 1;

	.large-grid--full > .grid-cell 
		flex: 0 0 100%;

	.large-grid--1of2 > .grid-cell 
		flex: 0 0 50%

	.large-grid--1of3 > .grid-cell 
		flex: 0 0 33.3333%

	.large-grid--1of4 > .grid-cell 
		flex: 0 0 25%

